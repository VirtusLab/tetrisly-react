{"version":3,"file":"Toast.stories-da09e6fc.js","sources":["../../src/components/Toast/Toast.styles.ts","../../src/components/Toast/stylesBuilder/stylesBuilder.ts","../../src/components/Toast/Toast.tsx"],"sourcesContent":["import type { ToastIntent } from './types';\nimport { ButtonProps } from '../Button';\n\nimport { BaseProps } from '@/types/BaseProps';\nimport { Emphasis } from '@/types/Emphasis';\nimport { IconName } from '@/utility-types/IconName';\n\nexport type ToastConfig = {\n  emphasis: Record<Emphasis, BaseProps>;\n  intent: Record<ToastIntent, BaseProps>;\n  closeButton: BaseProps;\n  innerElements: {\n    iconContainer: {\n      intent: Record<ToastIntent, { emphasis: Record<Emphasis, BaseProps> }>;\n    } & BaseProps;\n    actionContainer: BaseProps;\n    middleDot: {\n      emphasis: Record<Emphasis, BaseProps | Partial<ButtonProps<'bare'>>>;\n    } & BaseProps;\n    closeButton: BaseProps;\n  };\n} & BaseProps;\n\nexport const defaultConfig = {\n  display: 'inline-flex',\n  alignItems: 'center',\n  p: 'component-padding-medium component-padding-large',\n  padding: 'component-padding-medium component-padding-large',\n  borderRadius: 'large',\n  emphasis: {\n    high: {},\n    low: {\n      backgroundColor: 'interaction-background-modeless',\n      color: 'content-primary',\n      ringColor: 'border-defaultA',\n      ring: 'small',\n      boxShadow: 'bottom-200',\n    },\n  },\n  intent: {\n    neutral: {\n      backgroundColor: 'background-inverted',\n      color: 'content-primary-inverted',\n    },\n    informative: {\n      backgroundColor: 'background-informative-strong',\n      color: 'content-primary-inverted',\n      pl: 'component-padding-medium',\n    },\n    success: {\n      backgroundColor: 'background-positive-strong',\n      color: 'content-primary-inverted',\n      pl: 'component-padding-medium',\n    },\n    warning: {\n      backgroundColor: 'background-warning-strong',\n      color: 'content-primary',\n      pl: 'component-padding-medium',\n    },\n    negative: {\n      backgroundColor: 'background-negative-strong',\n      color: 'content-primary-inverted',\n      pl: 'component-padding-medium',\n    },\n  },\n  closeButton: {\n    pr: 'component-padding-small',\n  },\n  innerElements: {\n    iconContainer: {\n      intent: {\n        neutral: { emphasis: { low: {}, high: {} } },\n        informative: {\n          emphasis: {\n            low: {\n              color: 'content-informative-secondary',\n            },\n            high: {\n              color: 'content-primary-inverted',\n            },\n          },\n        },\n        success: {\n          emphasis: {\n            low: {\n              color: 'content-positive-secondary',\n            },\n            high: {\n              color: 'content-primary-inverted',\n            },\n          },\n        },\n        warning: {\n          emphasis: {\n            low: {\n              color: 'content-warning-secondary',\n            },\n            high: {\n              color: 'content-primary',\n            },\n          },\n        },\n        negative: {\n          emphasis: {\n            low: {\n              color: 'content-negative-secondary',\n            },\n            high: {\n              color: 'content-primary-inverted',\n            },\n          },\n        },\n      },\n      mr: 'component-gap-small',\n    },\n    actionContainer: {\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n      gap: 'component-gap-small',\n      ml: 'component-gap-xLarge',\n    },\n    middleDot: {\n      emphasis: {\n        high: {\n          color: 'content-secondary-inverted',\n        },\n        low: {\n          color: 'content-tertiary',\n        },\n      },\n      text: 'body-medium',\n    },\n    closeButton: {\n      ml: 'component-padding-large',\n    },\n  },\n} satisfies ToastConfig;\n\nexport const resolveIconName = (intent: ToastIntent): IconName<20> | null => {\n  const iconConfig: Record<ToastIntent, IconName<20> | null> = {\n    neutral: null,\n    informative: '20-info-fill',\n    success: '20-check-circle-fill',\n    warning: '20-warning-fill',\n    negative: '20-alert-fill',\n  };\n\n  return iconConfig[intent];\n};\n","import { ToastProps } from '../Toast.props';\nimport { defaultConfig } from '../Toast.styles';\n\nimport { ButtonAppearance } from '@/components/Button/types/ButtonAppearance.type';\nimport { IconButtonProps } from '@/components/IconButton/IconButton.props';\nimport { IconButtonAppearance } from '@/components/IconButton/IconButtonAppearance.type';\nimport { mergeConfigWithCustom } from '@/services';\nimport { BaseProps } from '@/types/BaseProps';\n\ntype StylesBuilderProps = Required<Pick<ToastProps, 'emphasis' | 'intent'>> & {\n  custom: ToastProps['custom'];\n  closeButton: boolean;\n};\n\ntype ToastStylesBuilder = {\n  actionProps: {\n    appearance: ButtonAppearance<'bare'>;\n  };\n  actionContainerStyles: BaseProps;\n  closeButtonProps: Partial<IconButtonProps<'ghost'>>;\n  closeButtonStyles: BaseProps;\n  containerStyles: BaseProps;\n  iconContainerStyles: BaseProps;\n  middleDotStyles: BaseProps;\n};\n\nexport const stylesBuilder = ({\n  custom,\n  ...props\n}: StylesBuilderProps): ToastStylesBuilder => {\n  const config = mergeConfigWithCustom({ defaultConfig, custom });\n\n  const {\n    emphasis: emphasisContainerStyles,\n    intent: intentContainerStyles,\n    closeButton: closeButtonContainerStyles,\n    innerElements: innerElementsStyles,\n    ...restContainerStyles\n  } = config;\n\n  const containerStyles: BaseProps = {\n    ...intentContainerStyles[props.intent],\n    ...emphasisContainerStyles[props.emphasis],\n    ...restContainerStyles,\n    ...(props.closeButton && closeButtonContainerStyles),\n  };\n\n  const {\n    actionContainer: actionContainerStyles,\n    closeButton: closeButtonStyles,\n    iconContainer,\n    middleDot: middleDotStyles,\n  } = innerElementsStyles;\n\n  const buttonIntentAppearance =\n    props.intent === 'warning' ? 'reverseInverted' : 'inverted';\n  const buttonAppearance =\n    props.emphasis === 'high' ? buttonIntentAppearance : 'primary';\n\n  const actionProps = {\n    appearance: buttonAppearance as ButtonAppearance<'bare'>,\n  };\n\n  const { intent: intentIconContainerStyles, ...restIconContainerStyles } =\n    iconContainer;\n\n  const iconContainerStyles: BaseProps = {\n    ...intentIconContainerStyles[props.intent].emphasis[props.emphasis],\n    ...restIconContainerStyles,\n  };\n\n  const closeButtonProps: Partial<IconButtonProps<'ghost'>> = {\n    appearance: buttonAppearance as IconButtonAppearance<'ghost'>,\n  };\n\n  return {\n    actionProps,\n    actionContainerStyles,\n    closeButtonProps,\n    closeButtonStyles,\n    containerStyles,\n    iconContainerStyles,\n    middleDotStyles,\n  };\n};\n","import { Icon } from '@virtuslab/tetrisly-icons';\nimport { FC, useMemo } from 'react';\n\nimport { stylesBuilder } from './stylesBuilder';\nimport { ToastProps } from './Toast.props';\nimport { resolveIconName } from './Toast.styles';\nimport { Button } from '../Button';\nimport { IconButton } from '../IconButton';\n\nimport { useAction } from '@/hooks';\nimport { tet } from '@/tetrisly';\nimport { MarginProps } from '@/types';\n\ntype Props = ToastProps & MarginProps;\n\nexport const Toast: FC<Props> = ({\n  text,\n  emphasis = 'low',\n  intent = 'neutral',\n  action,\n  onCloseClick,\n  custom,\n  ...restProps\n}) => {\n  const {\n    actionProps,\n    actionContainerStyles,\n    closeButtonProps,\n    closeButtonStyles,\n    containerStyles,\n    iconContainerStyles,\n    middleDotStyles,\n  } = useMemo(\n    () =>\n      stylesBuilder({\n        custom,\n        emphasis,\n        intent,\n        closeButton: !!onCloseClick,\n      }),\n    [custom, emphasis, intent, onCloseClick],\n  );\n\n  const [firstAction, secondAction] = useAction(action);\n\n  const iconName = useMemo(() => resolveIconName(intent), [intent]);\n\n  return (\n    <tet.div {...containerStyles} data-testid=\"toast\" {...restProps}>\n      {!!iconName && (\n        <tet.span {...iconContainerStyles}>\n          <Icon name={iconName} />\n        </tet.span>\n      )}\n      {text}\n      {firstAction && (\n        <tet.div {...actionContainerStyles}>\n          <Button variant=\"bare\" {...actionProps} {...firstAction} />\n          {secondAction && (\n            <>\n              <tet.div {...middleDotStyles}>&middot;</tet.div>\n              <Button variant=\"bare\" {...actionProps} {...secondAction} />\n            </>\n          )}\n        </tet.div>\n      )}\n      {!!onCloseClick && (\n        <IconButton\n          size=\"small\"\n          variant=\"ghost\"\n          intent=\"none\"\n          icon=\"20-close\"\n          onClick={onCloseClick}\n          {...closeButtonProps}\n          {...closeButtonStyles}\n        />\n      )}\n    </tet.div>\n  );\n};\n"],"names":["defaultConfig","resolveIconName","intent","stylesBuilder","custom","props","config","mergeConfigWithCustom","emphasisContainerStyles","intentContainerStyles","closeButtonContainerStyles","innerElementsStyles","restContainerStyles","containerStyles","actionContainerStyles","closeButtonStyles","iconContainer","middleDotStyles","buttonIntentAppearance","buttonAppearance","actionProps","intentIconContainerStyles","restIconContainerStyles","iconContainerStyles","Toast","text","emphasis","action","onCloseClick","restProps","closeButtonProps","useMemo","firstAction","secondAction","useAction","iconName","jsxs","tet","jsx","Icon","Button","Fragment","IconButton"],"mappings":"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"}