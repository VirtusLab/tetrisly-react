{"version":3,"file":"TextInput-8e77f76f.js","sources":["../../src/components/TextInput/TextInput.tsx"],"sourcesContent":["import { Icon } from '@virtuslab/tetrisly-icons';\nimport { forwardRef } from 'react';\n\nimport { TextInputProps } from './TextInput.props';\nimport { useTextInput } from './useTextInput';\nimport { Avatar } from '../Avatar';\nimport { Button } from '../Button';\nimport { IconButton } from '../IconButton';\n\nimport { tet } from '@/tetrisly';\nimport { MarginProps } from '@/types/MarginProps';\n\nexport const TextInput = forwardRef<\n  HTMLInputElement,\n  TextInputProps & MarginProps\n>(\n  (\n    {\n      type = 'text',\n      beforeComponent,\n      afterComponent,\n      state,\n      hasClearButton,\n      value,\n      ...restProps\n    },\n    inputRef,\n  ) => {\n    const {\n      containerRef,\n      handleContainerClick,\n      styles,\n      containerProps,\n      innerValue,\n      handleOnChange,\n      handleOnClear,\n      textInputProps,\n    } = useTextInput({\n      beforeComponent,\n      afterComponent,\n      ...restProps,\n    });\n\n    return (\n      <tet.div\n        ref={containerRef}\n        onClick={handleContainerClick}\n        {...styles.container}\n        pl={!!beforeComponent && '0'}\n        pr={!!afterComponent && '0'}\n        data-testid=\"text-input\"\n        data-state={state}\n        tabIndex={0}\n        {...containerProps}\n      >\n        {!!beforeComponent && (\n          <tet.span\n            {...styles.beforeComponent}\n            data-testid=\"text-input-before-component\"\n          >\n            {beforeComponent.type === 'Icon' && (\n              <tet.span {...styles.icon}>\n                <Icon {...beforeComponent.props} />\n              </tet.span>\n            )}\n            {beforeComponent.type === 'Prefix' && (\n              <tet.span {...styles.text}>{beforeComponent.props.text}</tet.span>\n            )}\n            {beforeComponent.type === 'Dropdown' && (\n              <Button\n                size=\"small\"\n                variant=\"ghost\"\n                label={beforeComponent.props.label}\n                hasDropdownIndicator\n              />\n            )}\n            {beforeComponent.type === 'Avatar' && (\n              <Avatar {...beforeComponent.props} shape=\"square\" size=\"xSmall\" />\n            )}\n          </tet.span>\n        )}\n        <tet.input\n          {...styles.input}\n          value={value || innerValue}\n          onChange={handleOnChange}\n          data-testid=\"text-input-input\"\n          {...textInputProps}\n          type={type}\n          disabled={state === 'disabled'}\n          ref={inputRef}\n        />\n        {!!hasClearButton && (value || innerValue) && (\n          <IconButton\n            variant=\"bare\"\n            icon=\"20-close\"\n            onClick={handleOnClear}\n            {...styles.clearButton}\n            data-testid=\"text-input-clear-button\"\n          />\n        )}\n        {!!afterComponent && (\n          <tet.span\n            {...styles.afterComponent}\n            data-testid=\"text-input-after-component\"\n          >\n            {afterComponent.type === 'Icon' && (\n              <tet.span {...styles.icon}>\n                <Icon {...afterComponent.props} />\n              </tet.span>\n            )}\n            {afterComponent.type === 'IconButton' && (\n              <IconButton\n                variant=\"ghost\"\n                size=\"small\"\n                {...afterComponent.props}\n              />\n            )}\n            {afterComponent.type === 'Sufix' && (\n              <tet.span {...styles.text}>{afterComponent.props.text}</tet.span>\n            )}\n            {afterComponent.type === 'Button' && (\n              <Button size=\"small\" variant=\"ghost\" label=\"Label\" />\n            )}\n            {afterComponent.type === 'Dropdown' && (\n              <Button\n                size=\"small\"\n                variant=\"ghost\"\n                label={afterComponent.props.label}\n                hasDropdownIndicator\n              />\n            )}\n          </tet.span>\n        )}\n      </tet.div>\n    );\n  },\n);\n"],"names":["TextInput","forwardRef","type","beforeComponent","afterComponent","state","hasClearButton","value","restProps","inputRef","containerRef","handleContainerClick","styles","containerProps","innerValue","handleOnChange","handleOnClear","textInputProps","useTextInput","jsxs","tet","jsx","Icon","Button","Avatar","IconButton"],"mappings":"2WAYO,MAAAA,EAAAC,EAAA,WAAkB,CAAA,CAKrB,KAAAC,EAAA,OACS,gBAAAC,EACP,eAAAC,EACA,MAAAC,EACA,eAAAC,EACA,MAAAC,EACA,GAAAC,CACG,EAAAC,IAAA,CAIL,KAAA,CAAM,aAAAC,EACJ,qBAAAC,EACA,OAAAC,EACA,eAAAC,EACA,WAAAC,EACA,eAAAC,EACA,cAAAC,EACA,eAAAC,CACA,EAAAC,EAAA,CACe,gBAAAf,EACf,eAAAC,EACA,GAAAI,CACG,CAAA,EAGL,OAAAW,EAAA,KACEC,EAAA,IAAK,CAAJ,IAAAV,EACM,QAAAC,EACI,GAAAC,EAAA,UACE,GAAA,CAAA,CAAAT,GAAA,IACc,GAAA,CAAA,CAAAC,GAAA,IACD,cAAA,aACZ,aAAAC,EACA,SAAA,EACF,GAAAQ,EACN,SAAA,CAEH,CAAA,CAAAV,GAAAgB,EAAA,KACCC,EAAA,KAAK,CAAJ,GAAAR,EAAA,gBACY,cAAA,8BACC,SAAA,CAEXT,EAAA,OAAA,QAAAkB,EAAAA,IAAAD,EAAA,KAAA,CAAA,GAAAR,EAAA,KAAA,SAAAS,EAAA,IAAAC,EAAA,CAAA,GAAAnB,EAAA,KAAA,CAAA,EAAA,EAGCA,EAAA,OAAA,UAAAkB,EAAAA,IAAAD,EAAA,KAAA,CAAA,GAAAR,EAAA,KAAA,SAAAT,EAAA,MAAA,IAAA,CAAA,EAGuDA,EAAA,OAAA,YAAAkB,EAAA,IAGvDE,EAAC,CAAA,KAAA,QACM,QAAA,QACG,MAAApB,EAAA,MAAA,MACqB,qBAAA,EACT,CAAA,EACtBA,EAAA,OAAA,UAAAkB,EAAA,IAAAG,EAAA,CAAA,GAAArB,EAAA,MAAA,MAAA,SAAA,KAAA,QAAA,CAAA,CAGgE,CAAA,CAAA,EAEpEkB,EAAA,IAEFD,EAAA,MAAK,CAAJ,GAAAR,EAAA,MACY,MAAAL,GAAAO,EACK,SAAAC,EACN,cAAA,mBACE,GAAAE,EACR,KAAAf,EACJ,SAAAG,IAAA,WACoB,IAAAI,CACf,CAAA,EACP,CAAA,CAAAH,IAAAC,GAAAO,IAAAO,EAAA,IAEEI,EAAC,CAAA,QAAA,OACS,KAAA,WACH,QAAAT,EACI,GAAAJ,EAAA,YACE,cAAA,yBACC,CAAA,EACd,CAAA,CAAAR,GAAAe,EAAA,KAGAC,EAAA,KAAK,CAAJ,GAAAR,EAAA,eACY,cAAA,6BACC,SAAA,CAEXR,EAAA,OAAA,QAAAiB,EAAAA,IAAAD,EAAA,KAAA,CAAA,GAAAR,EAAA,KAAA,SAAAS,EAAA,IAAAC,EAAA,CAAA,GAAAlB,EAAA,KAAA,CAAA,EAAA,EAGCA,EAAA,OAAA,cAAAiB,EAAA,IAGAI,EAAC,CAAA,QAAA,QACS,KAAA,QACH,GAAArB,EAAA,KACc,CAAA,EACrBA,EAAA,OAAA,SAAAiB,EAAAA,IAAAD,EAAA,KAAA,CAAA,GAAAR,EAAA,KAAA,SAAAR,EAAA,MAAA,IAAA,CAAA,EAGsDA,EAAA,OAAA,UAAAiB,EAAAA,IAAAE,EAAA,CAAA,KAAA,QAAA,QAAA,QAAA,MAAA,OAAA,CAAA,EAGHnB,EAAA,OAAA,YAAAiB,EAAA,IAGnDE,EAAC,CAAA,KAAA,QACM,QAAA,QACG,MAAAnB,EAAA,MAAA,MACoB,qBAAA,EACR,CAAA,CACtB,CAAA,CAAA,CAEJ,CAAA,CAAA,CAEJ,CAGN"}