import{j as o}from"./jsx-runtime-ffb262ed.js";import{R as k}from"./tetrisly-icons.es-3ae3ef26.js";import{s as I,t as u}from"./TetrislyProvider-e15ac01a.js";import{r as n}from"./index-76fb7be0.js";import{m as j}from"./TetDocs-2be21399.js";import{H as q}from"./HelperText-5a21c21b.js";import{e as T}from"./extractInputProps-bea3ee83.js";const V=e=>{const t=n.useRef(null);return n.useEffect(()=>{t.current!==null&&(t.current.indeterminate=e)},[t,e]),t},E={display:"flex",flexDirection:"column",alignItems:"flex-start",gap:"$space-component-gap-xSmall",minWidth:"$size-3xSmall",minHeight:"$size-3xSmall",color:"$color-content-primary",opacity:{disabled:"$opacity-disabled"},pointerEvents:{disabled:"none"},innerElements:{checkboxContainer:{position:"relative",cursor:"pointer"},input:{appearance:"none",display:"block",w:"$size-3xSmall",h:"$size-3xSmall",pointerEvents:"none",backgroundColor:{_:"$color-interaction-background-formField",checked:{_:"$color-interaction-default-normal",hover:"$color-interaction-default-hover"},indeterminate:{_:"$color-interaction-default-normal",hover:"$color-interaction-default-hover"}},borderRadius:"$border-radius-medium",boxShadow:"0 0 #0000",ring:"$border-width-focus",ringInset:!0,ringColor:{_:"$color-interaction-border-neutral-normal",hover:"$color-interaction-border-hover",checked:{_:"$color-interaction-ghost-normal",hover:"$color-interaction-ghost-normal"},alert:{_:"$color-interaction-border-alert",hover:"$color-interaction-border-alert",checked:"$color-interaction-ghost-normal"},indeterminate:"transparent"},outlineStyle:{focusWithin:"solid"},outlineColor:{focusWithin:"$color-interaction-focus-default"},outlineWidth:{focusWithin:"$border-width-focus"},outlineOffset:{focusWithin:"$border-width-small"},transition:!0,transitionDuration:200},checkboxIcon:{position:"absolute",color:"$color-interaction-inverted-normal",w:"$size-3xSmall",h:"$size-3xSmall",left:0,top:0},label:{display:"flex",justifyContent:"center",alignItems:"center",gap:"$space-component-gap-small",cursor:"pointer",color:"$color-content-primary",text:"$typo-body-medium"},helperText:{paddingLeft:"$space-component-padding-2xLarge"}}},S=e=>{const{innerElements:{input:t,checkboxContainer:r,checkboxIcon:i,label:p,helperText:m},...c}=j({defaultConfig:E,custom:e});return{container:c,input:t,checkboxContainer:r,checkboxIcon:i,label:p,helperText:m}},h=I(u.div)`
  input + div > #checkmark {
    display: none;
    pointer-events: none;
  }

  input:checked + div > #checkmark {
    display: block;
  }
`,y=n.forwardRef(({isChecked:e,isIndeterminate:t=!1,state:r,label:i,helperText:p,custom:m,onChange:c,...v},s)=>{const a=n.useMemo(()=>S(m),[m]),f=n.useId(),d=V(t),[$,C]=T(v),g=n.useCallback(l=>{d.current=l,typeof s=="function"?s(l):s&&(s.current=l)},[s,d]),_=n.useCallback(()=>{var l,b;i||((l=d.current)==null||l.click(),(b=d.current)==null||b.focus())},[d,i]);(c===void 0&&e!==void 0||c!==void 0&&e===void 0)&&console.warn("Checkbox: onChange and isChecked have to be either both provided or both not provided");const x=o.jsxs(h,{...a.checkboxContainer,"data-testid":"checkbox-checkboxContainer",children:[o.jsx(u.input,{...a.input,type:"checkbox",ref:g,checked:e&&!t,onChange:c,disabled:r==="disabled","data-state":r,id:f,"data-testid":"checkbox-input",...$}),o.jsxs(u.div,{...a.checkboxIcon,onClick:_,"data-testid":"checkbox-checkboxIcon",children:[t&&o.jsx(k,{name:"16-minus"}),o.jsx(k,{name:"16-check",id:"checkmark"})]})]});return o.jsxs(u.div,{...a.container,"data-state":r,"data-testid":"checkbox",...C,children:[i?o.jsxs(u.label,{...a.label,htmlFor:f,"data-testid":"checkbox-label",children:[x,i]}):x,!!p&&o.jsx(q,{custom:a.helperText,intent:r==="alert"?"alert":"none",...p,"data-testid":"checkbox-helperText"})]})});try{h.displayName="CheckboxContainer",h.__docgenInfo={description:"",displayName:"CheckboxContainer",props:{ref:{defaultValue:null,description:"",name:"ref",required:!1,type:{name:"((instance: HTMLDivElement | null) => void) | RefObject<HTMLDivElement> | null"}},theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:"Theme"}},as:{defaultValue:null,description:"",name:"as",required:!1,type:{name:"undefined"}},forwardedAs:{defaultValue:null,description:"",name:"forwardedAs",required:!1,type:{name:"undefined"}}}}}catch{}try{y.displayName="Checkbox",y.__docgenInfo={description:"",displayName:"Checkbox",props:{isChecked:{defaultValue:null,description:"",name:"isChecked",required:!1,type:{name:"boolean"}},isIndeterminate:{defaultValue:{value:"false"},description:"",name:"isIndeterminate",required:!1,type:{name:"boolean"}},state:{defaultValue:null,description:"",name:"state",required:!1,type:{name:"enum",value:[{value:'"disabled"'},{value:'"alert"'}]}},custom:{defaultValue:null,description:"",name:"custom",required:!1,type:{name:"CheckboxConfig"}},label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"string"}},helperText:{defaultValue:null,description:"",name:"helperText",required:!1,type:{name:'Pick<HelperTextProps, "text" | "hasBeforeIcon" | "counter">'}}}}}catch{}export{y as C};
