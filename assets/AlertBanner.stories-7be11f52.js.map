{"version":3,"file":"AlertBanner.stories-7be11f52.js","sources":["../../src/components/AlertBanner/AlertBanner.styles.ts","../../src/components/AlertBanner/stylesBuilder/stylesBuilder.ts","../../src/components/AlertBanner/AlertBanner.tsx"],"sourcesContent":["import { AlertBannerIntent } from './types/AlertBannerIntent.type';\n\nimport { BaseProps } from '@/types/BaseProps';\nimport { IconName } from '@/utility-types/IconName';\n\nexport type AlertBannerConfig = {\n  intent?: Partial<Record<AlertBannerIntent, BaseProps>>;\n  innerElements?: {\n    iconContainer?: BaseProps;\n    actionContainer?: BaseProps;\n    closeButton?: BaseProps;\n  };\n} & BaseProps;\n\nexport const defaultConfig = {\n  p: 'component-padding-medium',\n  pl: 'component-padding-2xLarge',\n  display: 'flex',\n  alignItems: 'center',\n  text: 'body-medium',\n  intent: {\n    none: {\n      backgroundColor: 'background-neutral-strong',\n      color: 'content-primary-inverted',\n    },\n    positive: {\n      backgroundColor: 'background-positive-strong',\n      color: 'content-primary-inverted',\n    },\n    warning: {\n      backgroundColor: 'background-warning-strong',\n      color: 'content-primary',\n    },\n    negative: {\n      backgroundColor: 'background-negative-strong',\n      color: 'content-primary-inverted',\n    },\n  },\n  innerElements: {\n    iconContainer: {\n      mr: 'component-gap-small',\n    },\n    actionContainer: {\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n      gap: 'component-gap-small',\n      ml: 'component-gap-large',\n    },\n    closeButton: {\n      marginLeft: 'auto',\n    },\n  },\n} satisfies AlertBannerConfig;\n\nexport const resolveIconName = (intent: AlertBannerIntent): IconName<20> => {\n  const iconConfig: Record<AlertBannerIntent, IconName<20>> = {\n    none: '20-info-fill',\n    positive: '20-info-fill',\n    warning: '20-warning-fill',\n    negative: '20-alert-fill',\n  };\n\n  return iconConfig[intent];\n};\n","import { merge } from 'lodash';\n\nimport { AlertBannerProps } from '../AlertBanner.props';\nimport { defaultConfig } from '../AlertBanner.styles';\nimport { AlertBannerIntent } from '../types';\n\nimport { ButtonProps } from '@/components/Button';\nimport { ButtonAppearance } from '@/components/Button/types/ButtonAppearance.type';\nimport { IconButtonProps } from '@/components/IconButton/IconButton.props';\nimport { IconButtonAppearance } from '@/components/IconButton/IconButtonAppearance.type';\nimport { BaseProps } from '@/types/BaseProps';\n\ntype AlertBannerStylesBuilder = {\n  container: BaseProps;\n  iconContainer: BaseProps;\n  actionContainer: BaseProps;\n  closeButton: BaseProps;\n  actionProps: Partial<ButtonProps<'ghost'>>;\n  closeButtonProps: Partial<IconButtonProps<'ghost'>>;\n};\n\nexport const stylesBuilder = (\n  intent: AlertBannerIntent,\n  custom: AlertBannerProps['custom'],\n): AlertBannerStylesBuilder => {\n  const {\n    intent: intentStyles,\n    innerElements: { iconContainer, actionContainer, closeButton },\n    ...restStyles\n  } = merge(defaultConfig, custom);\n\n  const actionProps = {\n    appearance: (intent === 'warning'\n      ? 'reverseInverted'\n      : 'inverted') as ButtonAppearance<'ghost'>,\n  };\n\n  const closeButtonProps = {\n    appearance: (intent === 'warning'\n      ? 'primary'\n      : 'inverted') as IconButtonAppearance<'ghost'>,\n  };\n\n  return {\n    container: {\n      ...intentStyles[intent],\n      ...restStyles,\n    },\n    iconContainer,\n    actionContainer,\n    actionProps,\n    closeButtonProps,\n    closeButton,\n  };\n};\n","import { Icon } from '@virtuslab/tetrisly-icons';\nimport { FC, useMemo } from 'react';\n\nimport { AlertBannerProps } from './AlertBanner.props';\nimport { resolveIconName } from './AlertBanner.styles';\nimport { stylesBuilder } from './stylesBuilder';\nimport { Button } from '../Button';\nimport { IconButton } from '../IconButton';\n\nimport { tet } from '@/tetrisly';\nimport { MarginProps } from '@/types';\n\nexport const AlertBanner: FC<AlertBannerProps & MarginProps> = ({\n  text,\n  intent = 'none',\n  custom,\n  action,\n  onCloseClick,\n  ...restProps\n}) => {\n  const styles = useMemo(() => stylesBuilder(intent, custom), [intent, custom]);\n  const name = resolveIconName(intent);\n\n  const [firstAction, secondAction] = Array.isArray(action)\n    ? action\n    : [action, undefined];\n\n  return (\n    <tet.div {...styles.container} {...restProps} data-testid=\"alert-banner\">\n      <tet.span\n        {...styles.iconContainer}\n        data-testid=\"alert-banner-iconContainer\"\n      >\n        <Icon name={name} />\n      </tet.span>\n      {text}\n      {firstAction && (\n        <tet.div\n          {...styles.actionContainer}\n          data-testid=\"alert-banner-actionContainer\"\n        >\n          <Button variant=\"bare\" {...styles.actionProps} {...firstAction} />\n          {secondAction && (\n            <>\n              <tet.div>&middot;</tet.div>\n              <Button\n                variant=\"bare\"\n                {...styles.actionProps}\n                {...secondAction}\n              />\n            </>\n          )}\n        </tet.div>\n      )}\n      {!!onCloseClick && (\n        <IconButton\n          size=\"small\"\n          variant=\"ghost\"\n          intent=\"none\"\n          icon=\"20-close\"\n          onClick={onCloseClick}\n          {...styles.closeButton}\n          {...styles.closeButtonProps}\n          data-testid=\"alert-banner-closeButton\"\n        />\n      )}\n    </tet.div>\n  );\n};\n"],"names":["defaultConfig","resolveIconName","intent","stylesBuilder","custom","intentStyles","iconContainer","actionContainer","closeButton","restStyles","merge","actionProps","closeButtonProps","AlertBanner","text","action","onCloseClick","restProps","styles","useMemo","name","firstAction","secondAction","jsxs","tet","jsx","Icon","Button","Fragment","IconButton"],"mappings":"ocAcO,MAAMA,EAAgB,CAC3B,EAAG,2BACH,GAAI,4BACJ,QAAS,OACT,WAAY,SACZ,KAAM,cACN,OAAQ,CACN,KAAM,CACJ,gBAAiB,4BACjB,MAAO,0BACT,EACA,SAAU,CACR,gBAAiB,6BACjB,MAAO,0BACT,EACA,QAAS,CACP,gBAAiB,4BACjB,MAAO,iBACT,EACA,SAAU,CACR,gBAAiB,6BACjB,MAAO,0BACT,CACF,EACA,cAAe,CACb,cAAe,CACb,GAAI,qBACN,EACA,gBAAiB,CACf,QAAS,OACT,WAAY,SACZ,eAAgB,SAChB,IAAK,sBACL,GAAI,qBACN,EACA,YAAa,CACX,WAAY,MACd,CACF,CACF,EAEaC,EAAmBC,IAC8B,CAC1D,KAAM,eACN,SAAU,eACV,QAAS,kBACT,SAAU,eAAA,GAGMA,CAAM,EC1CbC,EAAgB,CAC3BD,EACAE,IAC6B,CACvB,KAAA,CACJ,OAAQC,EACR,cAAe,CAAE,cAAAC,EAAe,gBAAAC,EAAiB,YAAAC,CAAY,EAC7D,GAAGC,CAAA,EACDC,EAAM,MAAAV,EAAeI,CAAM,EAEzBO,EAAc,CAClB,WAAaT,IAAW,UACpB,kBACA,UAAA,EAGAU,EAAmB,CACvB,WAAaV,IAAW,UACpB,UACA,UAAA,EAGC,MAAA,CACL,UAAW,CACT,GAAGG,EAAaH,CAAM,EACtB,GAAGO,CACL,EACA,cAAAH,EACA,gBAAAC,EACA,YAAAI,EACA,iBAAAC,EACA,YAAAJ,CAAA,CAEJ,EC1COK,EAAA,CAAA,CAAyD,KAAAC,EAC9D,OAAAZ,EAAA,OACS,OAAAE,EACT,OAAAW,EACA,aAAAC,EACA,GAAAC,CAEF,IAAA,CACE,MAAAC,EAAAC,UAAA,IAAAhB,EAAAD,EAAAE,CAAA,EAAA,CAAAF,EAAAE,CAAA,CAAA,EACAgB,EAAAnB,EAAAC,CAAA,EAEA,CAAAmB,EAAAC,CAAA,EAAA,MAAA,QAAAP,CAAA,EAAAA,EAAA,CAAAA,EAAA,MAAA,EAIA,OAAAQ,OAAAC,EAAA,IAAA,CAAA,GAAAN,EAAA,UAAA,GAAAD,EAAA,cAAA,eAAA,SAAA,CAEIQ,EAAA,IAAAD,EAAA,KAAK,CAAJ,GAAAN,EAAA,cACY,cAAA,6BACC,SAAAO,EAAA,IAAAC,EAAA,CAAA,KAAAN,CAAA,CAAA,CAEM,CAAA,EACpBN,EACCO,GAAAE,EAAA,KAECC,EAAA,IAAK,CAAJ,GAAAN,EAAA,gBACY,cAAA,+BACC,SAAA,CAEZO,MAAAE,EAAA,CAAA,QAAA,OAAA,GAAAT,EAAA,YAAA,GAAAG,EAAA,EAAgEC,GAAAC,EAAA,KAAAK,WAAA,CAAA,SAAA,CAG5DH,EAAAA,IAAAD,EAAA,IAAA,CAAA,SAAA,GAAA,CAAA,EAAiBC,EAAA,IACjBE,EAAC,CAAA,QAAA,OACS,GAAAT,EAAA,YACG,GAAAI,CACP,CAAA,CACN,EAAA,CACF,CAAA,CAAA,EAEJ,CAAA,CAAAN,GAAAS,EAAA,IAGAI,EAAC,CAAA,KAAA,QACM,QAAA,QACG,OAAA,OACD,KAAA,WACF,QAAAb,EACI,GAAAE,EAAA,YACE,GAAAA,EAAA,iBACA,cAAA,0BACC,CAAA,CACd,CAAA,CAAA,CAIR;;;;;;;;;;;;"}