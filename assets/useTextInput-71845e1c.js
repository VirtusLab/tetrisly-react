import{r as i}from"./index-76fb7be0.js";import{m as I}from"./mergeConfigWithCutom-aec35d44.js";import{e as R}from"./extractInputProps-08fc967a.js";const v={bg:"$color-interaction-background-formField",display:"flex",alignItems:"center",w:"100%",h:"$size-medium",padding:"$space-component-padding-small $space-component-padding-large",flexShrink:0,ringInset:!0,boxShadow:"0 0 #0000",ring:"$border-width-small",ringColor:{_:"$color-interaction-border-neutral-normal",hoverWithoutButton:"$color-interaction-border-hover",alert:"$color-interaction-border-alert"},borderRadius:"$border-radius-large",opacity:{disabled:"$opacity-disabled"},outlineStyle:{"&:has(input:focus)":"solid"},outlineColor:{focusWithin:"$color-interaction-focus-default"},outlineWidth:{"&:has(input:focus)":"$border-width-focus"},outlineOffset:{alert:"$border-width-focus"},transition:!0,transitionDuration:50,cursor:"text",pointerEvents:{disabled:"none"},innerElements:{input:{w:"100%",h:"100%",outline:"none",text:"$typo-body-medium",color:{placeholder:"$color-content-tertiary"},p:0,backgroundColor:"transparent",opacity:{placeholder:1}},icon:{color:"$color-content-secondary"},text:{text:"$typo-body-medium",color:"$color-content-secondary"},clearButton:{marginLeft:"$space-component-gap-small"},beforeComponent:{spacing:{Icon:{marginLeft:"$space-component-padding-medium",marginRight:"$space-component-padding-small"},Avatar:{margin:"0 $space-component-padding-small"},Prefix:{margin:"0 $space-component-padding-large"},Dropdown:{marginLeft:"$space-component-padding-xSmall",marginRight:"$space-component-padding-small"}}},afterComponent:{spacing:{Icon:{marginLeft:"$space-component-padding-small",marginRight:"$space-component-padding-large"},Sufix:{marginLeft:"$space-component-padding-small",marginRight:"$space-component-padding-large"},Button:{marginLeft:"$space-component-padding-small",marginRight:"$space-component-padding-xSmall"},IconButton:{marginLeft:"$space-component-padding-small",marginRight:"$space-component-padding-xSmall"},Dropdown:{marginLeft:"$space-component-padding-small",marginRight:"$space-component-padding-xSmall"}}}}},L=(s,n,e)=>{const{innerElements:{input:r,icon:d,text:u,clearButton:g,beforeComponent:{spacing:l,...m},afterComponent:{spacing:$,...h}},...o}=I({defaultConfig:v,custom:s});return{container:o,input:r,icon:d,text:u,clearButton:g,beforeComponent:{...m,...n&&l[n]},afterComponent:{...h,...e&&$[e]}}},D=({custom:s,beforeComponent:n,afterComponent:e,onChange:r,defaultValue:d,...u})=>{const[g,l]=i.useState(d??""),m=i.useMemo(()=>L(s,n==null?void 0:n.type,e==null?void 0:e.type),[e==null?void 0:e.type,n==null?void 0:n.type,s]),[$,h]=R(u),o=i.useRef(null),f=t=>{var a;if(t.target===o.current){const c=(a=o.current)==null?void 0:a.querySelector("input");c==null||c.focus()}},S=i.useCallback(f,[o]),w=i.useCallback(f,[o]),O=i.useCallback(t=>{l(t.target.value),r==null||r(t)},[r]);return{innerValue:g,styles:m,textInputProps:$,containerProps:h,containerRef:o,handleContainerClick:S,handleContainerFocus:w,handleOnChange:O,handleOnClear:()=>{var y,b,x;l("");const t=(y=o.current)==null?void 0:y.querySelector("input");if(!t)return;const a=(b=Object.getOwnPropertyDescriptor(t.constructor.prototype,"value"))==null?void 0:b.set,c=Object.getPrototypeOf(t),p=(x=Object.getOwnPropertyDescriptor(c,"value"))==null?void 0:x.set;a&&a!==p?p==null||p.call(t,""):a==null||a.call(t,""),t.dispatchEvent(new Event("input",{bubbles:!0}))}}};export{D as u};
