import{j as i}from"./jsx-runtime-ffb262ed.js";import{r as c}from"./index-76fb7be0.js";import{r as B}from"./index-d3ea75b5.js";import{m as M}from"./mergeConfigWithCustom-aec35d44.js";import{t as p}from"./TetrislyProvider-679426f7.js";const S={display:"inline-flex",position:"relative",innerElements:{arrow:{right:{padding:"$space-component-padding-small 0",paddingLeft:"$space-component-padding-xSmall"},left:{padding:"$space-component-padding-small 0",paddingRight:"$space-component-padding-xSmall"},top:{padding:"0 $space-component-padding-small",paddingBottom:"$space-component-padding-xSmall"},bottom:{padding:"0 $space-component-padding-small",paddingTop:"$space-component-padding-xSmall"}},content:{backgroundColor:"$color-background-inverted",color:"$color-content-primary-inverted",padding:"$space-component-padding-xSmall $space-component-padding-small",borderRadius:"$border-radius-medium",text:"$typo-body-small",minWidth:"20px",minHeight:"28px",w:"max-content",maxWidth:"240px"},container:{position:"absolute",alignContent:"center",justifyContent:"center",w:"fit-content",transition:"opacity .2s ease-in-out",display:"inline-flex",zIndex:1}}},V=e=>e==="bottom"||e==="top"?"center":e,A=e=>{switch(e){case"end":return"flex-end";case"start":return"flex-start";case"middle":return"center";default:return"flex-start"}},q=e=>e==="left"||e==="top",k=e=>e==="right"||e==="bottom",I=(e,t,s,o)=>{const n=window.pageYOffset||document.documentElement.scrollTop,l=window.pageXOffset||document.documentElement.scrollLeft;let r,a;switch(s){case"top":r=e.top+n-t.height,a=y(e,t,o)+l;break;case"bottom":r=e.bottom+n,a=y(e,t,o)+l;break;case"left":r=E(e,t)+n,a=e.left+l-t.width;break;case"right":r=E(e,t)+n,a=e.right+l;break;default:r=e.top+n-t.height,a=y(e,t,o)+l;break}return r=Math.max(0,Math.min(r,window.innerHeight-t.height+n)),a=Math.max(0,Math.min(a,window.innerWidth-t.width+l)),{top:r,left:a}},y=(e,t,s)=>{switch(s){case"start":return e.left;case"end":return e.left+e.width-t.width;default:return e.left+e.width/2-t.width/2}},E=(e,t,s)=>{switch(s){case"start":return e.top;case"end":return e.top+e.height-t.height;default:return e.top+e.height/2-t.height/2}},T=(e,t,s)=>{const{innerElements:o,...n}=M({defaultConfig:S,custom:s}),l=V(e),r=e==="left"||e==="right"?"row":"column",a=e==="left"||e==="right"?"center":A(t),{arrow:m,content:f,container:u}=o,h=m[e],v={...f,textAlign:l},d={...n,flexDirection:r,alignItems:a};return{container:{...u,flexDirection:r,alignItems:a},wrapper:d,arrow:h,content:v}},w=({pathDefinition:e,viewBox:t,height:s,width:o})=>i.jsx("svg",{width:o,height:s,viewBox:t,fill:"none",xmlns:"http://www.w3.org/2000/svg",children:i.jsx(p.path,{d:e,fill:"$color-background-inverted"})}),g=({arrowType:e})=>{switch(e){case"bottom":return i.jsx(w,{width:12,height:6,viewBox:"0 0 12 6",pathDefinition:"M0 6H12L7.41421 1.41421C6.63317 0.633166 5.36684 0.633165 4.58579 1.41421L0 6Z"});case"top":return i.jsx(w,{width:12,height:6,viewBox:"0 0 12 6",pathDefinition:"M0 0H12L7.41421 4.58579C6.63317 5.36683 5.36684 5.36684 4.58579 4.58579L0 0Z"});case"right":return i.jsx(w,{width:6,height:12,viewBox:"0 0 6 12",pathDefinition:"M6 12L6 0L1.41421 4.58579C0.633166 5.36683 0.633165 6.63316 1.41421 7.41421L6 12Z"});case"left":return i.jsx(w,{width:6,height:12,viewBox:"0 0 6 12",pathDefinition:"M0 12L0 0L4.58579 4.58579C5.36683 5.36683 5.36684 6.63316 4.58579 7.41421L0 12Z"});default:return i.jsx(w,{width:12,height:6,viewBox:"0 0 12 6",pathDefinition:"M0 6H12L7.41421 1.41421C6.63317 0.633166 5.36684 0.633165 4.58579 1.41421L0 6Z"})}};try{g.displayName="Arrow",g.__docgenInfo={description:"",displayName:"Arrow",props:{arrowType:{defaultValue:null,description:"",name:"arrowType",required:!0,type:{name:"enum",value:[{value:'"top"'},{value:'"right"'},{value:'"bottom"'},{value:'"left"'}]}}}}}catch{}const D=()=>{const[e,t]=c.useState(0);return c.useEffect(()=>{t(1)},[]),{opacity:e}},b=c.forwardRef(({arrowheadPosition:e="middle",tooltipPosition:t="top",text:s,custom:o,position:n={left:0,top:0},...l},r)=>{const a=k(t),m=q(t),{opacity:f}=D(),u=c.useMemo(()=>T(t,e,o),[e,t,o]);return i.jsxs(p.div,{ref:r,...u.container,"data-testid":"tooltip-container",...l,top:n.top,left:n.left,opacity:f,children:[a&&i.jsx(p.div,{...u.arrow,"data-testid":"tooltip-arrow",children:i.jsx(g,{arrowType:t})}),i.jsx(p.div,{...u.content,"data-testid":"tooltip-content",children:s}),m&&i.jsx(p.div,{...u.arrow,"data-testid":"tooltip-arrow",children:i.jsx(g,{arrowType:t})})]})});try{b.displayName="TooltipElement",b.__docgenInfo={description:"",displayName:"TooltipElement",props:{arrowheadPosition:{defaultValue:{value:"middle"},description:"",name:"arrowheadPosition",required:!1,type:{name:"enum",value:[{value:'"end"'},{value:'"start"'},{value:'"middle"'}]}},tooltipPosition:{defaultValue:{value:"top"},description:"",name:"tooltipPosition",required:!1,type:{name:"enum",value:[{value:'"top"'},{value:'"right"'},{value:'"bottom"'},{value:'"left"'}]}},text:{defaultValue:null,description:"",name:"text",required:!0,type:{name:"string"}},custom:{defaultValue:null,description:"",name:"custom",required:!1,type:{name:"TooltipConfig"}},position:{defaultValue:{value:"{ left: 0, top: 0 }"},description:"",name:"position",required:!1,type:{name:"{ left: number; top: number; }"}}}}}catch{}const L=({children:e,custom:t,text:s,tooltipPosition:o="top",arrowheadPosition:n="middle",...l})=>{const[r,a]=c.useState(!1),[m,f]=c.useState({top:0,left:0}),u=c.useRef(null),h=c.useRef(null),v=c.useMemo(()=>T(o,n,t),[n,o,t]),d=c.useCallback(()=>{if(!u.current||!h.current)return;const j=u.current.getBoundingClientRect(),C=h.current.getBoundingClientRect(),$=I(j,C,o,n);f($)},[n,o]);c.useEffect(()=>(r?(d(),window.addEventListener("resize",d),window.addEventListener("scroll",d,!0)):(window.removeEventListener("resize",d),window.removeEventListener("scroll",d,!0)),()=>{window.removeEventListener("resize",d),window.removeEventListener("scroll",d,!0)}),[r,d]);const x=()=>{a(!0),d()},_=()=>{a(!1)};return i.jsxs(p.div,{...v.wrapper,"data-testid":"tooltip-wrapper",ref:u,onMouseEnter:x,onMouseLeave:_,onFocus:x,onBlur:_,...l,children:[e&&i.jsx(p.div,{cursor:"pointer",children:e}),r&&B.createPortal(i.jsx(b,{ref:h,text:s,arrowheadPosition:n,tooltipPosition:o,position:m,custom:t,...l}),document.body)]})};try{L.displayName="Tooltip",L.__docgenInfo={description:"",displayName:"Tooltip",props:{arrowheadPosition:{defaultValue:{value:"middle"},description:"",name:"arrowheadPosition",required:!1,type:{name:"enum",value:[{value:'"end"'},{value:'"start"'},{value:'"middle"'}]}},tooltipPosition:{defaultValue:{value:"top"},description:"",name:"tooltipPosition",required:!1,type:{name:"enum",value:[{value:'"top"'},{value:'"right"'},{value:'"bottom"'},{value:'"left"'}]}},text:{defaultValue:null,description:"",name:"text",required:!0,type:{name:"string"}},custom:{defaultValue:null,description:"",name:"custom",required:!1,type:{name:"TooltipConfig"}}}}}catch{}export{b as T,L as a};
