import{j as n,t as l}from"./TetrislyProvider-07235cd3.js";import{R as I}from"./tetrisly-icons.es-3ae3ef26.js";import{r as d}from"./index-76fb7be0.js";import{m as _}from"./mergeConfigWithCutom-789678df.js";import{B as h}from"./Button-d09ddbf9.js";import{I as j}from"./IconButton-26e6095e.js";const V=["m","margin","mt","marginTop","mr","marginRight","mb","marginBottom","ml","marginLeft","mx","my"],k=s=>{if(!(s instanceof Object))return[{},{}];const e=Object.entries(s),[t,c]=e.reduce(([u,o],[r,a])=>V.includes(r)?[{...u,[r]:a},o]:[u,{...o,[r]:a}],[{},{}]);return[t,c]},q={display:"flex",alignItems:"center",h:"medium",padding:"component-padding-small component-padding-large",flexShrink:0,ring:"100",ringColor:{_:"interaction-border-neutral-normal",hover:"interaction-border-hover",focus:"interaction-focus-default",alert:"interaction-border-alert"},borderRadius:"large",opacity:{disabled:"disabled"},outlineStyle:{focusWithin:"solid"},outlineColor:{focusWithin:"interaction-focus-default"},outlineWidth:{focusWithin:"focus"},outlineOffset:{alert:"focus"},transition:!0,transitionDuration:50,cursor:"text",pointerEvents:{disabled:"none"},innerElements:{input:{w:"100%",h:"100%",outline:"none",text:"body-medium",color:{placeholder:"content-tertiary"},backgroundColor:"interaction-background-formField"},icon:{color:"content-secondary"},text:{text:"body-medium",color:"content-secondary"},clearButton:{marginLeft:"component-gap-small"},beforeComponent:{spacing:{Icon:{marginLeft:"component-padding-medium",marginRight:"component-padding-small"},Avatar:{margin:"0 component-padding-small"},Prefix:{margin:"0 component-padding-large"},Dropdown:{marginLeft:"component-padding-xSmall",marginRight:"component-padding-small"}}},afterComponent:{spacing:{Icon:{marginLeft:"component-padding-small",marginRight:"component-padding-large"},Sufix:{marginLeft:"component-padding-small",marginRight:"component-padding-large"},Button:{marginLeft:"component-padding-small",marginRight:"component-padding-xSmall"},IconButton:{marginLeft:"component-padding-small",marginRight:"component-padding-xSmall"},Dropdown:{marginLeft:"component-padding-small",marginRight:"component-padding-xSmall"}}}}},D=(s,e,t)=>{const{innerElements:{input:c,icon:u,text:o,clearButton:r,beforeComponent:{spacing:a,...f},afterComponent:{spacing:y,...p}},...m}=_({defaultConfig:q,custom:s});return{container:m,input:c,icon:u,text:o,clearButton:r,beforeComponent:{...f,...e&&a[e]},afterComponent:{...p,...t&&y[t]}}},B=d.forwardRef(({type:s="text",beforeComponent:e,afterComponent:t,state:c,hasClearButton:u,custom:o,value:r,onChange:a,...f},y)=>{const[p,m]=d.useState(""),i=d.useMemo(()=>D(o,e==null?void 0:e.type,t==null?void 0:t.type),[t==null?void 0:t.type,e==null?void 0:e.type,o]),[R,S]=k(f),g=d.useRef(null),w=d.useCallback(x=>{var v;if(x.target===g.current){const b=(v=g.current)==null?void 0:v.querySelector("input");b&&b.focus()}},[g]),L=d.useCallback(x=>{m(x.target.value),a==null||a(x)},[a]),P=d.useCallback(()=>{m(""),a==null||a({target:{value:""}})},[a]);return n.jsxs(l.div,{ref:g,onClick:w,...i.container,pl:!!e&&"0",pr:!!t&&"0","data-testid":"text-input","data-state":c,...R,children:[!!e&&n.jsxs(l.span,{...i.beforeComponent,"data-testid":"text-input-before-component",children:[e.type==="Icon"&&n.jsx(l.span,{...i.icon,children:n.jsx(I,{...e.props})}),e.type==="Prefix"&&n.jsx(l.span,{...i.text,children:e.props.text}),e.type==="Dropdown"&&n.jsx(h,{size:"small",variant:"ghost",label:e.props.label,dropdownIndicator:!0})]}),n.jsx(l.input,{...i.input,value:r||p,onChange:L,"data-testid":"text-input-input",...S,type:s,disabled:c==="disabled",ref:y}),!!u&&(r||p)&&n.jsx(j,{variant:"bare",icon:"20-close",onClick:P,...i.clearButton,"data-testid":"text-input-clear-button"}),!!t&&n.jsxs(l.span,{...i.afterComponent,"data-testid":"text-input-after-component",children:[t.type==="Icon"&&n.jsx(l.span,{...i.icon,children:n.jsx(I,{...t.props})}),t.type==="IconButton"&&n.jsx(j,{variant:"ghost",size:"small",...t.props}),t.type==="Sufix"&&n.jsx(l.span,{...i.text,children:t.props.text}),t.type==="Button"&&n.jsx(h,{size:"small",variant:"ghost",label:"Label"}),t.type==="Dropdown"&&n.jsx(h,{size:"small",variant:"ghost",label:t.props.label,dropdownIndicator:!0})]})]})});try{B.displayName="TextInput",B.__docgenInfo={description:"",displayName:"TextInput",props:{type:{defaultValue:{value:"text"},description:"",name:"type",required:!1,type:{name:"enum",value:[{value:'"text"'},{value:'"search"'},{value:'"tel"'},{value:'"url"'},{value:'"email"'},{value:'"password"'}]}},beforeComponent:{defaultValue:null,description:"",name:"beforeComponent",required:!1,type:{name:"Icon | Prefix | Dropdown"}},afterComponent:{defaultValue:null,description:"",name:"afterComponent",required:!1,type:{name:"Icon | Dropdown | IconButton | Sufix | Button"}},state:{defaultValue:null,description:"",name:"state",required:!1,type:{name:"enum",value:[{value:'"disabled"'},{value:'"alert"'}]}},hasClearButton:{defaultValue:null,description:"",name:"hasClearButton",required:!1,type:{name:"boolean"}},custom:{defaultValue:null,description:"",name:"custom",required:!1,type:{name:"TextInputConfig"}}}}}catch{}export{B as T};
//# sourceMappingURL=TextInput-f2c844c4.js.map
