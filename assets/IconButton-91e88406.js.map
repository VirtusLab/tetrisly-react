{"version":3,"file":"IconButton-91e88406.js","sources":["../../src/components/IconButton/IconButton.styles.ts","../../src/components/IconButton/styleBuilder.ts","../../src/components/IconButton/IconButton.tsx"],"sourcesContent":["import { IconButtonAppearance } from './IconButtonAppearance.type';\nimport { IconButtonIntent } from './IconButtonIntent.type';\nimport { IconButtonSize } from './IconButtonSize.type';\nimport { ButtonVariant } from '../Button/types/ButtonType.type';\n\nimport { BaseProps } from '@/types/BaseProps';\n\ntype Sizes = Partial<\n  Record<\n    IconButtonSize,\n    BaseProps & {\n      dropdownIndicator: BaseProps;\n    }\n  >\n>;\n\nexport type Intents<TAppearance extends IconButtonAppearance> = {\n  [TIntent in IconButtonIntent<TAppearance>]: BaseProps;\n};\nexport type IconButtonConfig = {\n  variants: {\n    [TVariant in ButtonVariant]: {\n      appearances: {\n        [TAppearance in IconButtonAppearance<TVariant>]: {\n          intents?: Intents<TAppearance>;\n        } & BaseProps;\n      };\n      sizes?: Sizes;\n    } & BaseProps;\n  };\n} & BaseProps;\n\nconst sizes = {\n  small: {\n    w: 'small',\n    h: 'small',\n    dropdownIndicator: {\n      w: 'xLarge',\n    },\n  },\n  medium: {\n    w: 'medium',\n    h: 'medium',\n    dropdownIndicator: {\n      w: '2xLarge',\n    },\n  },\n  large: {\n    w: 'large',\n    h: 'large',\n    dropdownIndicator: {\n      h: '3xLarge',\n    },\n  },\n} satisfies Sizes;\n\nexport const defaultConfig: IconButtonConfig = {\n  text: 'body-medium',\n  p: 'component-padding-null',\n  bg: 'action-inverted-normal',\n  display: 'flex',\n  gap: 'component-gap-xSmall',\n  alignItems: 'center',\n  justifyContent: 'center',\n  borderRadius: 'large',\n  whiteSpace: 'nowrap',\n\n  opacity: {\n    disabled: 'disabled',\n  },\n  outlineColor: {\n    focus: 'interaction-focus-default',\n  },\n  outlineWidth: {\n    focus: 'focus',\n  },\n  outlineOffset: 2,\n  pointerEvents: {\n    loading: 'none',\n    disabled: 'none',\n  },\n  transition: true,\n  transitionDuration: 200,\n  variants: {\n    default: {\n      sizes,\n      ringInset: true,\n      ring: '100',\n      ringColor: {\n        _: 'action-outline-normal',\n        hover: 'action-outline-hover',\n        active: 'action-outline-active',\n        selected: 'action-outline-selected',\n      },\n      boxShadow: 'bottom-100',\n      appearances: {\n        primary: {\n          intents: {\n            none: {\n              color: {\n                _: 'action-neutral-normal',\n                hover: 'action-neutral-hover',\n                active: 'action-neutral-active',\n                selected: 'action-neutral-selected',\n              },\n            },\n            success: {\n              color: {\n                _: 'action-success-normal',\n                hover: 'action-success-hover',\n                active: 'action-success-active',\n                selected: 'action-success-selected',\n              },\n            },\n            negative: {\n              color: {\n                _: 'action-destructive-normal',\n                hover: 'action-destructive-hover',\n                active: 'action-destructive-active',\n                selected: 'action-destructive-selected',\n              },\n            },\n          },\n        },\n        inverted: {\n          bg: {\n            _: 'action-inverted-normal',\n            hover: 'action-inverted-hover',\n            active: 'action-inverted-active',\n            selected: 'action-inverted-selected',\n          },\n          color: {\n            _: 'action-neutral-normal',\n            hover: 'action-neutral-hover',\n            active: 'action-neutral-active',\n            selected: 'action-neutral-selected',\n          },\n        },\n      },\n    },\n    ghost: {\n      sizes,\n\n      appearances: {\n        primary: {\n          bg: {\n            _: 'action-ghost-normal',\n            hover: 'action-ghost-hover',\n            active: 'action-ghost-active',\n            selected: 'action-ghost-selected',\n          },\n          intents: {\n            none: {\n              color: {\n                _: 'action-neutral-normal',\n                hover: 'action-neutral-hover',\n                active: 'action-neutral-active',\n                selected: 'action-neutral-selected',\n              },\n            },\n            success: {\n              color: {\n                _: 'action-success-normal',\n                hover: 'action-success-hover',\n                active: 'action-success-active',\n                selected: 'action-success-selected',\n              },\n            },\n            negative: {\n              color: {\n                _: 'action-destructive-normal',\n                hover: 'action-destructive-hover',\n                active: 'action-destructive-active',\n                selected: 'action-destructive-selected',\n              },\n              bg: {\n                _: 'action-ghost-normal',\n                hover: 'action-ghost-destructive-hover',\n                active: 'action-ghost-destructive-active',\n                selected: 'action-ghost-destructive-selected',\n              },\n            },\n          },\n        },\n        inverted: {\n          color: {\n            _: 'action-inverted-normal',\n            hover: 'action-inverted-hover',\n            active: 'action-inverted-active',\n            selected: 'action-inverted-selected',\n          },\n          bg: {\n            _: 'action-ghost-normal',\n            hover: 'action-ghost-inverted-hover',\n            active: 'action-ghost-inverted-active',\n            selected: 'action-ghost-inverted-selected',\n          },\n        },\n        reverseInverted: {\n          color: {\n            _: 'action-reverseInverted-normal',\n            hover: 'action-reverseInverted-hover',\n            active: 'action-reverseInverted-active',\n            selected: 'action-reverseInverted-selected',\n          },\n          bg: {\n            _: 'action-ghost-normal',\n            hover: 'action-ghost-hover',\n            active: 'action-ghost-active',\n            selected: 'action-ghost-selected',\n          },\n        },\n      },\n    },\n    bare: {\n      bg: 'transparent',\n\n      appearances: {\n        primary: {\n          intents: {\n            none: {\n              color: {\n                _: 'action-neutral-normal',\n                hover: 'action-neutral-hover',\n                active: 'action-neutral-active',\n                selected: 'action-neutral-selected',\n              },\n            },\n            success: {\n              color: {\n                _: 'action-success-normal',\n                hover: 'action-success-hover',\n                active: 'action-success-active',\n                selected: 'action-success-selected',\n              },\n            },\n            negative: {\n              color: {\n                _: 'action-destructive-normal',\n                hover: 'action-destructive-hover',\n                active: 'action-destructive-active',\n                selected: 'action-destructive-selected',\n              },\n            },\n          },\n        },\n        inverted: {\n          color: {\n            _: 'action-inverted-normal',\n            hover: 'action-inverted-hover',\n            active: 'action-inverted-active',\n            selected: 'action-inverted-selected',\n          },\n        },\n        reverseInverted: {\n          color: {\n            _: 'action-reverseInverted-normal',\n            hover: 'action-reverseInverted-hover',\n            active: 'action-reverseInverted-active',\n            selected: 'action-reverseInverted-selected',\n          },\n        },\n      },\n    },\n  },\n};\n","import { IconButtonStyleProps } from './IconButton.props';\nimport { defaultConfig, Intents } from './IconButton.styles';\nimport { IconButtonAppearance } from './IconButtonAppearance.type';\nimport { ButtonVariant } from '../Button/types/ButtonType.type';\n\nimport { mergeConfigWithCustom } from '@/services';\nimport { BaseProps } from '@/types/BaseProps';\n\nexport function styleBuilder<\n  TVariant extends ButtonVariant,\n  TAppearance extends IconButtonAppearance<TVariant>,\n>(\n  props: Required<Omit<IconButtonStyleProps<TVariant, TAppearance>, 'icon'>>,\n): BaseProps {\n  const { variants, ...styles } = mergeConfigWithCustom({\n    defaultConfig,\n    custom: props.custom,\n  });\n\n  const variant = variants[props.variant];\n  const { appearances, sizes, ...variantStyles } = variant;\n  const appearance = appearances[props.appearance];\n  const { intents, ...appearanceStyles } = appearance;\n\n  const intentStyles = intents\n    ? (intents as Intents<TAppearance>)[props.intent]\n    : {};\n  const size = sizes && sizes[props.size];\n  const { dropdownIndicator, ...sizeStyles } = size ?? {\n    dropdownIndicator: {},\n  };\n\n  const dropdownStyles = props.dropdownIndicator ? dropdownIndicator : {};\n  return {\n    ...styles,\n    ...variantStyles,\n    ...appearanceStyles,\n    ...intentStyles,\n    ...sizeStyles,\n    ...dropdownStyles,\n  };\n}\n","import { Icon } from '@virtuslab/tetrisly-icons';\nimport { useMemo } from 'react';\n\nimport { IconButtonProps } from './IconButton.props';\nimport { IconButtonAppearance } from './IconButtonAppearance.type';\nimport { styleBuilder } from './styleBuilder';\nimport { ButtonVariant } from '../Button/types/ButtonType.type';\nimport { Loader } from '../Loader';\n\nimport { tet } from '@/tetrisly';\nimport { MarginProps } from '@/types';\n\nexport const IconButton = <\n  TVariant extends ButtonVariant,\n  TAppearance extends IconButtonAppearance<TVariant>,\n>({\n  intent = 'none',\n  variant,\n  appearance,\n  size = 'medium',\n  icon,\n  dropdownIndicator = false,\n  state,\n  custom = {},\n  ...marginProps\n}: IconButtonProps<TVariant, TAppearance> & MarginProps) => {\n  const styles = useMemo(\n    () =>\n      styleBuilder({\n        intent,\n        variant: variant ?? 'default',\n        appearance: appearance ?? 'primary',\n        size,\n        dropdownIndicator,\n        custom,\n      }),\n    [intent, variant, appearance, size, dropdownIndicator, custom],\n  );\n  return (\n    <tet.button\n      data-testid=\"button\"\n      {...styles}\n      disabled={['disabled', 'loading'].includes(state ?? '')}\n      data-state={state}\n      {...marginProps}\n    >\n      {state === 'loading' ? (\n        <Loader\n          appearance={appearance === 'inverted' ? 'white' : 'greyscale'}\n          size=\"small\"\n          shape=\"circle\"\n        />\n      ) : (\n        <Icon name={icon} />\n      )}\n      {dropdownIndicator && <Icon name=\"20-chevron-down\" />}\n    </tet.button>\n  );\n};\n"],"names":["sizes","defaultConfig","styleBuilder","props","variants","styles","mergeConfigWithCustom","variant","appearances","variantStyles","appearance","intents","appearanceStyles","intentStyles","size","dropdownIndicator","sizeStyles","dropdownStyles","IconButton","intent","icon","state","custom","marginProps","useMemo","jsxs","tet","jsx","Loader","Icon"],"mappings":"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"}