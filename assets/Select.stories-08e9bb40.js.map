{"version":3,"file":"Select.stories-08e9bb40.js","sources":["../../src/components/Select/Select.styles.ts","../../src/components/Select/Select.tsx","../../src/docs-components/SelectDocs.tsx"],"sourcesContent":["import type { TextInputProps } from '../TextInput';\n\nexport const defaultConfig: TextInputProps['custom'] = {\n  innerElements: {\n    afterComponent: {\n      spacing: {\n        IconButton: {\n          marginRight: '$space-component-padding-medium',\n        },\n      },\n    },\n  },\n};\n\nexport const selectStyles = {\n  defaultConfig,\n};\n","import { Icon } from '@virtuslab/tetrisly-icons';\nimport type { FC } from 'react';\n\nimport type { SelectProps } from './Select.props';\nimport { defaultConfig } from './Select.styles';\nimport { Avatar } from '../Avatar';\nimport { IconButton } from '../IconButton';\nimport type { TextInputProps } from '../TextInput';\nimport { useTextInput } from '../TextInput/useTextInput';\n\nimport { mergeConfigWithCustom } from '@/services/mergeConfigWithCustom/mergeConfigWithCutom';\nimport { tet } from '@/tetrisly';\nimport type { MarginProps } from '@/types';\n\nconst DROPDOWN_INDICATOR_COMPONENT = {\n  type: 'IconButton',\n  props: {\n    icon: '20-chevron-down-small',\n  },\n} satisfies TextInputProps['afterComponent'];\n\nexport const Select: FC<SelectProps & MarginProps> = ({\n  state,\n  beforeComponent,\n  hasClearButton,\n  value,\n  custom: customProps,\n  ...props\n}) => {\n  const afterComponent = DROPDOWN_INDICATOR_COMPONENT;\n\n  const custom = mergeConfigWithCustom({ defaultConfig, custom: customProps });\n\n  const {\n    containerRef,\n    handleContainerClick,\n    styles,\n    containerProps,\n    innerValue,\n    handleOnChange,\n    handleOnClear,\n    textInputProps,\n  } = useTextInput({\n    beforeComponent,\n    afterComponent,\n    custom,\n    ...props,\n  });\n\n  return (\n    <tet.div\n      ref={containerRef}\n      onClick={handleContainerClick}\n      {...styles.container}\n      pl={!!beforeComponent && '0'}\n      pr=\"0\"\n      data-testid=\"select\"\n      data-state={state}\n      tabIndex={0}\n      {...containerProps}\n    >\n      {!!beforeComponent && (\n        <tet.span\n          {...styles.beforeComponent}\n          data-testid=\"select-before-component\"\n        >\n          {beforeComponent.type === 'Icon' && (\n            <tet.span {...styles.icon}>\n              <Icon {...beforeComponent.props} />\n            </tet.span>\n          )}\n          {beforeComponent.type === 'Avatar' && (\n            <Avatar {...beforeComponent.props} shape=\"square\" size=\"xSmall\" />\n          )}\n        </tet.span>\n      )}\n      <tet.input\n        {...styles.input}\n        value={value || innerValue}\n        onChange={handleOnChange}\n        data-testid=\"select-input\"\n        {...textInputProps}\n        disabled={state === 'disabled'}\n      />\n      {!!hasClearButton && (value || innerValue) && (\n        <IconButton\n          variant=\"bare\"\n          icon=\"20-close\"\n          size=\"medium\"\n          onClick={handleOnClear}\n          {...styles.clearButton}\n          data-testid=\"select-clear-button\"\n        />\n      )}\n      <tet.span {...styles.afterComponent} data-testid=\"select-after-component\">\n        <IconButton variant=\"bare\" size=\"medium\" {...afterComponent.props} />\n      </tet.span>\n    </tet.div>\n  );\n};\n","import { tet } from '@/tetrisly';\n\nexport const SelectDocs = () => <tet.div />;\n"],"names":["defaultConfig","DROPDOWN_INDICATOR_COMPONENT","Select","state","beforeComponent","hasClearButton","value","customProps","props","afterComponent","custom","mergeConfigWithCustom","containerRef","handleContainerClick","styles","containerProps","innerValue","handleOnChange","handleOnClear","textInputProps","useTextInput","jsxs","tet","jsx","Icon","Avatar","IconButton","SelectDocs"],"mappings":"6pBAEO,MAAMA,EAA0C,CACrD,cAAe,CACb,eAAgB,CACd,QAAS,CACP,WAAY,CACV,YAAa,iCACf,CACF,CACF,CACF,CACF,ECEAC,EAAA,CAAqC,KAAA,aAC7B,MAAA,CACC,KAAA,uBACC,CAEV,EAEOC,EAAA,CAAA,CAA+C,MAAAC,EACpD,gBAAAC,EACA,eAAAC,EACA,MAAAC,EACA,OAAAC,EACQ,GAAAC,CAEV,IAAA,CACE,MAAAC,EAAAR,EAEAS,EAAAC,EAAA,CAAA,cAAAX,EAAA,OAAAO,CAAA,CAAA,EAEA,CAAM,aAAAK,EACJ,qBAAAC,EACA,OAAAC,EACA,eAAAC,EACA,WAAAC,EACA,eAAAC,EACA,cAAAC,EACA,eAAAC,CACA,EAAAC,EAAA,CACe,gBAAAhB,EACf,eAAAK,EACA,OAAAC,EACA,GAAAF,CACG,CAAA,EAGL,OAAAa,EAAA,KACEC,EAAA,IAAK,CAAJ,IAAAV,EACM,QAAAC,EACI,GAAAC,EAAA,UACE,GAAA,CAAA,CAAAV,GAAA,IACc,GAAA,IACtB,cAAA,SACS,aAAAD,EACA,SAAA,EACF,GAAAY,EACN,SAAA,CAEH,CAAA,CAAAX,GAAAiB,EAAA,KACCC,EAAA,KAAK,CAAJ,GAAAR,EAAA,gBACY,cAAA,0BACC,SAAA,CAEXV,EAAA,OAAA,QAAAmB,EAAAA,IAAAD,EAAA,KAAA,CAAA,GAAAR,EAAA,KAAA,SAAAS,EAAA,IAAAC,EAAA,CAAA,GAAApB,EAAA,KAAA,CAAA,EAAA,EAGCA,EAAA,OAAA,UAAAmB,EAAA,IAAAE,EAAA,CAAA,GAAArB,EAAA,MAAA,MAAA,SAAA,KAAA,QAAA,CAAA,CAGgE,CAAA,CAAA,EAEpEmB,EAAA,IAEFD,EAAA,MAAK,CAAJ,GAAAR,EAAA,MACY,MAAAR,GAAAU,EACK,SAAAC,EACN,cAAA,eACE,GAAAE,EACR,SAAAhB,IAAA,UACgB,CAAA,EACtB,CAAA,CAAAE,IAAAC,GAAAU,IAAAO,EAAA,IAEEG,EAAC,CAAA,QAAA,OACS,KAAA,WACH,KAAA,SACA,QAAAR,EACI,GAAAJ,EAAA,YACE,cAAA,qBACC,CAAA,EACdS,MAAAD,EAAA,KAAA,CAAA,GAAAR,EAAA,eAAA,cAAA,yBAAA,SAAAS,EAAAA,IAAAG,EAAA,CAAA,QAAA,OAAA,KAAA,SAAA,GAAAjB,EAAA,KAAA,CAAA,EAAA,CAIF,CAAA,CAAA,CAGN,miBCjGO,MAAMkB,EAAa,IAAOJ,EAAA,IAAAD,EAAI,IAAJ,CAAA,CAAQ;;;;;;;;;;;;;;;;;;;;;;;;;;"}