import{j as a,t as l}from"./TetrislyProvider-dd60e1dd.js";import{R as j}from"./tetrisly-icons.es-3ae3ef26.js";import{r}from"./index-76fb7be0.js";import{m as L}from"./mergeConfigWithCutom-32643429.js";import{A as _}from"./Avatar-32ebfe8e.js";import{B as v}from"./Button-a5c86679.js";import{I as b}from"./IconButton-565dea9f.js";import{e as q}from"./extractInputProps-bea3ee83.js";const V={display:"flex",alignItems:"center",h:"medium",padding:"component-padding-small component-padding-large",flexShrink:0,ring:"small",ringColor:{_:"interaction-border-neutral-normal",hoverWithoutButton:"interaction-border-hover",alert:"interaction-border-alert"},borderRadius:"large",opacity:{disabled:"disabled"},outlineStyle:{"&:has(input:focus)":"solid"},outlineColor:{focusWithin:"interaction-focus-default"},outlineWidth:{"&:has(input:focus)":"focus"},outlineOffset:{alert:"focus"},transition:!0,transitionDuration:50,cursor:"text",pointerEvents:{disabled:"none"},innerElements:{input:{w:"100%",h:"100%",outline:"none",text:"body-medium",color:{placeholder:"content-tertiary"},backgroundColor:"interaction-background-formField"},icon:{color:"content-secondary"},text:{text:"body-medium",color:"content-secondary"},clearButton:{marginLeft:"component-gap-small"},beforeComponent:{spacing:{Icon:{marginLeft:"component-padding-medium",marginRight:"component-padding-small"},Avatar:{margin:"0 component-padding-small"},Prefix:{margin:"0 component-padding-large"},Dropdown:{marginLeft:"component-padding-xSmall",marginRight:"component-padding-small"}}},afterComponent:{spacing:{Icon:{marginLeft:"component-padding-small",marginRight:"component-padding-large"},Sufix:{marginLeft:"component-padding-small",marginRight:"component-padding-large"},Button:{marginLeft:"component-padding-small",marginRight:"component-padding-xSmall"},IconButton:{marginLeft:"component-padding-small",marginRight:"component-padding-xSmall"},Dropdown:{marginLeft:"component-padding-small",marginRight:"component-padding-xSmall"}}}}},P=(s,e,t)=>{const{innerElements:{input:o,icon:x,text:d,clearButton:c,beforeComponent:{spacing:n,...f},afterComponent:{spacing:y,...p}},...u}=L({defaultConfig:V,custom:s});return{container:u,input:o,icon:x,text:d,clearButton:c,beforeComponent:{...f,...e&&n[e]},afterComponent:{...p,...t&&y[t]}}},B=r.forwardRef(({type:s="text",beforeComponent:e,afterComponent:t,state:o,hasClearButton:x,custom:d,value:c,onChange:n,...f},y)=>{const[p,u]=r.useState(""),i=r.useMemo(()=>P(d,e==null?void 0:e.type,t==null?void 0:t.type),[t==null?void 0:t.type,e==null?void 0:e.type,d]),[S,R]=q(f),m=r.useRef(null),w=r.useCallback(g=>{var I;if(g.target===m.current){const h=(I=m.current)==null?void 0:I.querySelector("input");h==null||h.focus()}},[m]),k=r.useCallback(g=>{u(g.target.value),n==null||n(g)},[n]),D=r.useCallback(()=>{u(""),n==null||n({target:{value:""}})},[n]);return a.jsxs(l.div,{ref:m,onClick:w,...i.container,pl:!!e&&"0",pr:!!t&&"0","data-testid":"text-input","data-state":o,tabIndex:0,...R,children:[!!e&&a.jsxs(l.span,{...i.beforeComponent,"data-testid":"text-input-before-component",children:[e.type==="Icon"&&a.jsx(l.span,{...i.icon,children:a.jsx(j,{...e.props})}),e.type==="Prefix"&&a.jsx(l.span,{...i.text,children:e.props.text}),e.type==="Dropdown"&&a.jsx(v,{size:"small",variant:"ghost",label:e.props.label,hasDropdownIndicator:!0}),e.type==="Avatar"&&a.jsx(_,{...e.props,shape:"square",size:"xSmall"})]}),a.jsx(l.input,{...i.input,value:c||p,onChange:k,"data-testid":"text-input-input",...S,type:s,disabled:o==="disabled",ref:y}),!!x&&(c||p)&&a.jsx(b,{variant:"bare",icon:"20-close",onClick:D,...i.clearButton,"data-testid":"text-input-clear-button"}),!!t&&a.jsxs(l.span,{...i.afterComponent,"data-testid":"text-input-after-component",children:[t.type==="Icon"&&a.jsx(l.span,{...i.icon,children:a.jsx(j,{...t.props})}),t.type==="IconButton"&&a.jsx(b,{variant:"ghost",size:"small",...t.props}),t.type==="Sufix"&&a.jsx(l.span,{...i.text,children:t.props.text}),t.type==="Button"&&a.jsx(v,{size:"small",variant:"ghost",label:"Label"}),t.type==="Dropdown"&&a.jsx(v,{size:"small",variant:"ghost",label:t.props.label,hasDropdownIndicator:!0})]})]})});try{B.displayName="TextInput",B.__docgenInfo={description:"",displayName:"TextInput",props:{type:{defaultValue:{value:"text"},description:"",name:"type",required:!1,type:{name:"enum",value:[{value:'"text"'},{value:'"email"'},{value:'"password"'},{value:'"search"'},{value:'"tel"'},{value:'"url"'}]}},beforeComponent:{defaultValue:null,description:"",name:"beforeComponent",required:!1,type:{name:"Icon | Avatar | Prefix | Dropdown"}},afterComponent:{defaultValue:null,description:"",name:"afterComponent",required:!1,type:{name:"Icon | Dropdown | IconButton | Sufix | Button"}},state:{defaultValue:null,description:"",name:"state",required:!1,type:{name:"enum",value:[{value:'"disabled"'},{value:'"alert"'}]}},hasClearButton:{defaultValue:null,description:"",name:"hasClearButton",required:!1,type:{name:"boolean"}},custom:{defaultValue:null,description:"",name:"custom",required:!1,type:{name:"TextInputConfig"}}}}}catch{}export{B as T};
//# sourceMappingURL=TextInput-ff102ed8.js.map
